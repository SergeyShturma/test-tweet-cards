"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[588],{2755:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var r=n(9439),a=n(2791),s=n(1413),o=n(3433),l=n(5861),c=n(4687),u=n.n(c),i=n.p+"static/media/pic.b3d9942b3f9d5dad1ff0.png",f="Card_item__C00cL",p="Card_logo__etg-V",d="Card_pic__sr7DC",w="Card_avatar__UWcIt",h="Card_tweets__MD4FS",m="Card_followers__oYm9T",b=n(184),v=function(e){var t=e.user,n=e.follow,r=e.unfollow,a=e.followedUsers;return(0,b.jsxs)("li",{className:f,children:[(0,b.jsx)("img",{className:p,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ0SURBVHgB7VixbhNBEB0jjHQURsKRSBEkoEjhJi5o3FCk5psjQUNDkSYULqDISYTCSKawJTjJvOebjcabPe86kHiQeNLo9vZm93bfzbxZXW+1Wr2V/WMJe9fr9ZouB6xzjMuR7BkPxAcq2Fj+AXghjDhEFB2Lc3gijDgGac/EMbwRRoxB2mNxCo+E9WETkPZQHKJ0Ub9gX2AzaStapfYcNkz4z2E17LuOpe+R+pcgFIGPcjtcwT5p+wXslbY/SLv+be+dbHleRNiCL0LJX0Z9RK1CbcV6Ct9pYo4ZfKe6oJKUWxeBxFwlaDBuvUbMYY8qy9CfAnwlh1xKbpCFCfuwQaQxT0z70m5Q/a99dR5+5UbKwCJQGpUl4NqHatfBEvrQfJqbIBdhM0MWN/4mjME9U5TpZquaJYtpMNL2mih+Xc6H+8+yGZXbMIL/TP4OXpv2GazRfU1KJ8hFWG3aJ9KSRVLOpdWphbYZMfOI3JEZW+n4gF0IWBcBKdfbO0VuEVa3Kr0y6jY2rDrWJHylo2+b8KZAcemLA+QiLLXJihFEfYp8B6b9Q27qVIr8EjDtc9Xt3pAjzB4ZmHpMQZb7U7kpkH0VToo7N3lhnoXUDdhFyC+iCr1X5FLyJUiog1jj/kz16WfHnwWmJqOBpF3C9yuaj2wp1/GHUgYeUWpxhFyEhVO3PRosLFmqX+E5y/NJKNn0S5BVKuBXtzyD3SlKFk69OWWk4cqIaXTcgbSpFc/BvgM9dszNe7r8U4hTeFcM9f8ZMejwGemhdqdi0nPyA9GC+vc+1q3/PxC7ce5J5GN4I4wi/00cwxNhLkU+hhfC/lTk7w2/AbK0DT3l4b3DAAAAAElFTkSuQmCC",alt:"avatar",loading:"lazy"}),(0,b.jsx)("img",{className:d,src:i,alt:"avatar",loading:"lazy"}),(0,b.jsx)("img",{className:w,src:t.avatar,alt:t.name,width:"62",height:"62",loading:"lazy"}),(0,b.jsxs)("p",{className:h,children:[t.tweets,"\xa0Tweets"]}),(0,b.jsxs)("p",{className:m,children:[new Intl.NumberFormat("en-US").format(t.followers),"\xa0Followers"]}),a.includes(t.id)?(0,b.jsx)("button",{type:"button",className:"active",onClick:function(){return r(t)},user:t,children:"following"}):(0,b.jsx)("button",{type:"button",className:"passive",onClick:function(){return n(t)},user:t,children:"follow"})]})},A="CardList_list__I9984",g="CardList_button__o1STO",x="CardList_gif__ZGo1M",Z="CardList_title__MBjqw",_=n(1243);function j(){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.Z)("users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return(y=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.put("users/".concat(t.id),{name:t.name,avatar:t.avatar,followers:t.followers+1,tweets:t.tweets});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.put("users/".concat(t.id),{name:t.name,avatar:t.avatar,followers:t.followers-1,tweets:t.tweets});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_.Z.defaults.baseURL="https://6447cd5950c25337442f85d0.mockapi.io/";var S=function(e){var t=e.selectedValue,n=(0,a.useState)([]),c=(0,r.Z)(n,2),i=c[0],f=c[1],p=(0,a.useState)(3),d=(0,r.Z)(p,2),w=d[0],h=d[1],m=(0,a.useState)(JSON.parse(localStorage.getItem("followedUsersIds"))||[]),_=(0,r.Z)(m,2),C=_[0],y=_[1],U=(0,a.useState)([]),S=(0,r.Z)(U,2),F=S[0],B=S[1];(0,a.useEffect)((function(){function e(){return(e=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:t=e.sent,f(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,a.useEffect)((function(){if("default"===t)B(i);else if("following"===t){var e=i.filter((function(e){return C.includes(e.id)}));B(e)}else if("follow"===t){var n=i.filter((function(e){return!C.includes(e.id)}));B(n)}}),[t,i,C]);var E=F.slice(0,w);function J(e){var t=[].concat((0,o.Z)(C),[e.id]);function n(){return n=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:I((n=e.sent).id,{followers:n.followers}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.apply(this,arguments)}y(t),localStorage.setItem("followedUsersIds",JSON.stringify(t)),function(e){n.apply(this,arguments)}(e)}function L(e){var t=C.filter((function(t){return t!==e.id}));function n(){return n=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:I((n=e.sent).id,{followers:n.followers}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.apply(this,arguments)}y(t),localStorage.setItem("followedUsersIds",JSON.stringify(t)),function(e){n.apply(this,arguments)}(e)}function I(e,t){f((function(n){return n.map((function(n){return n.id===e?(0,s.Z)((0,s.Z)({},n),t):n}))}))}return(0,b.jsxs)(b.Fragment,{children:[F.length?(0,b.jsx)("ul",{className:A,children:E.map((function(e){return(0,b.jsx)(v,{user:e,follow:J,unfollow:L,followedUsers:C},e.id)}))}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:Z,children:"Emptiness..."}),(0,b.jsx)("iframe",{title:"Funny",className:x,src:"https://giphy.com/embed/U7Jrpeu6q78XSZZAPT",alt:"gif"})]}),E.length<(null===F||void 0===F?void 0:F.length)&&(0,b.jsx)("button",{type:"button",className:g,onClick:function(){h(w+3)},children:"Load More"})]})},F=n(8285),B="DropDown_dropdown_select__IpC5I",E=[{value:"default",label:"show all"},{value:"follow",label:"follow"},{value:"following",label:"following"}],J={value:"default",label:"show all"},L=function(e){var t=e.onChange,n=(0,a.useState)(J),o=(0,r.Z)(n,2),l=o[0],c=o[1];return(0,b.jsx)(F.ZP,{className:B,value:l,options:E,onChange:function(e){c(e),t(e.value)},theme:function(e){return(0,s.Z)((0,s.Z)({},e),{},{borderRadius:0,colors:(0,s.Z)((0,s.Z)({},e.colors),{},{primary25:"rgb(220,20,60,0.2)",primary75:"black"})})},styles:{control:function(e,t){return(0,s.Z)((0,s.Z)({},e),{},{borderColor:t.isFocused?"green":"blue",background:t.isFocused?"rgb(124,252,0,0.1)":"rgb(0,252,0,0.15)",borderRadius:t.isFocused?"12px":"22px"})}}})},I=n(2187),T=n(8185),R="ArrowToUp_iconToUp__RHkNV",K=function(){return(0,b.jsx)(I.Z,{style:{zIndex:3},showUnder:160,children:(0,b.jsx)(T.FKi,{className:R})})},M="Tweets_container__HS2nS";function W(){var e=(0,a.useState)("default"),t=(0,r.Z)(e,2),n=t[0],s=t[1];return(0,b.jsxs)("div",{className:M,children:[(0,b.jsx)(L,{onChange:function(e){s(e)}}),(0,b.jsx)(S,{selectedValue:n}),(0,b.jsx)(K,{})]})}}}]);
//# sourceMappingURL=588.8ccf8c70.chunk.js.map